<!-- Banner -->
<section class="bg-color-2 py-5">
    <div class="container-lg">
        <div class="row">
            <div class="col-lg-7">
                <div class="text-light px-2 px-lg-0">
                    <h5>Trường Đại học Hà Đông</h5>
                    <div style="font-size: 43px; font-weight: 600;">Hệ thống quản lý nhà cung cấp</div>
                    <p class="text-info fst-italic">Ha Dong University Provider Management System</p>
                    <div class="d-none d-lg-flex flex-column">
                        <label class="mb-2 w-100 mt-3" style="font-size: 24px; font-weight: 100;">
                            <i class="fa-regular fa-circle-check me-2"></i> 
                            Quản lý dễ dàng với giao diện đơn giản
                        </label>
                        <label class="mb-2 w-100" style="font-size: 24px; font-weight: 100;">
                            <i class="fa-regular fa-circle-check me-2"></i> 
                            Theo dõi báo cáo tài chính
                        </label>
                        <label class="mb-2 w-100" style="font-size: 24px; font-weight: 100;">
                            <i class="fa-regular fa-circle-check me-2"></i> 
                            Kiểm tra, đối soát hợp đồng dịch vụ
                        </label>
                        <label class="mb-2 w-100" style="font-size: 24px; font-weight: 100;">
                            <i class="fa-regular fa-circle-check me-2"></i> 
                            Tìm kiếm nhà đối tác tiềm năng
                        </label>
                    </div>
                </div>
            </div>
            <div class="col-lg-5">
                <img  src="/assets/images/header-banner.webp" alt="" class="w-100 my-4 my-lg-0">
            </div>
            <div class="d-flex justify-content-center justify-content-lg-start mt-3">
                <a href="/auth/login" class="btn btn-light ">Đăng nhập hệ thống</a>
            </div>
        </div>
    </div>
</section>

<!-- Main Feature -->
<section id="main-feature" class="pt-5">
    <div class="container-lg">
        <h1 class="fw-bolder text-center">Chức năng chính</h1>
        <div class="row g-3 mt-2">
            <div class="col-6 col-lg-4">
                <div class="d-flex p-4 feature-item text-secondary flex-column align-items-center">
                    <div class="p-4 ">
                        <i class="fa-solid fa-truck mt-0" style="font-size: 160px;"></i>
                    </div>
                    <h4 class="mt-2 text-center fw-bold">Quản lý nhà cung cấp</h4>
                </div>
            </div>
            <div class="col-6 col-lg-4">
                <div class="d-flex p-4 feature-item text-warning flex-column align-items-center">
                    <div class="p-4 ">
                        <i class="fa-solid fa-file-invoice-dollar mt-0" style="font-size: 160px;"></i>
                    </div>
                    <h4 class="mt-2 text-center fw-bold">Quản lý hóa đơn</h4>
                </div>
            </div>
            <div class="col-6 col-lg-4">
                <div class="d-flex p-4 feature-item text-danger flex-column align-items-center">
                    <div class="p-4 ">
                        <i class="fa-solid fa-gears mt-0" style="font-size: 160px;"></i>
                    </div>
                    <h4 class="mt-2 text-center fw-bold">Quản lý dịch vụ</h4>
                </div>
            </div>
            <div class="col-6 col-lg-4">
                <div class="d-flex p-4 feature-item text-info flex-column align-items-center">
                    <div class="p-4 ">
                        <i class="fa-solid fa-chart-line mt-0" style="font-size: 160px;"></i>
                    </div>
                    <h4 class="mt-2 text-center fw-bold">Thống kê chi phí</h4>
                </div>
            </div>
            <div class="col-6 col-lg-4">
                <div class="d-flex p-4 feature-item text-success flex-column align-items-center">
                    <div class="p-4 ">
                        <i class="fa-solid fa-handshake mt-0" style="font-size: 160px;"></i>
                    </div>
                    <h4 class="mt-2 text-center fw-bold">Thông tin hợp đồng</h4>
                </div>
            </div>
            <div class="col-6 col-lg-4">
                <div class="d-flex p-4 feature-item text-primary-emphasis flex-column align-items-center">
                    <div class="p-4 ">
                        <i class="fa-solid fa-chart-simple mt-0" style="font-size: 160px;"></i>
                    </div>
                    <h4 class="mt-2 text-center fw-bold">Phân tích & so sánh</h4>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Quick summary -->
<section id="quick-summary" class="pt-5">
    <div class="w-100 bg-white py-4">
        <div class="container-lg">
            <h1 class="text-center fw-bolder">Thống kê tháng trước</h1>
            <div class="row g-2 ">
                <div class="col-lg-4">
                    <div class="d-flex p-4 flex-column align-items-center">
                        <spam class="fw-bolder color-2" style="font-size: 100px;">120</spam>
                        <h2 class="text-center">Giao dịch</h2>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="d-flex p-4 flex-column align-items-center">
                        <spam class="fw-bolder text-warning-emphasis" style="font-size: 100px;">3.2 tỷ</spam>
                        <h2 class="text-center">Chi phí phát sinh</h2>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="d-flex p-4 flex-column align-items-center">
                        <spam class="fw-bolder text-danger" style="font-size: 100px;">+32%</spam>
                        <h2 class="text-center">Chuyển dịch</h2>
                    </div>
                </div>
            </div>
            <div class="d-flex justify-content-center">
                <a href="/index.html" class="btn btn-outline-success">Xem chi tiết <i class="fas fa-arrow-right"></i></a>
            </div>
        </div>
    </div>
</section>

<!-- Top Provider -->
<section id="top-provider" class="pt-5">
    <div class="rtop-providerow">
        <div class="col-lg-8 offset-lg-2">
            <h1 class="text-center fw-bolder">Nhà cung cấp nổi bật</h1>
            <div class="list d-flex justify-content-center mt-5">

                <div class="card top-provider border-color-2 mx-2 overflow-hidden" style="width: 400px;">
                    <div class="d-flex p-2 mt-3 flex-column align-items-center px-4">
                        <img src="/assets/images/1_viettel.png" class="object-fit-contain border border-1 rounded-pill p-1" alt="" width="160px" height="160px">
                        <h5 class="mt-4 text-center">Tập đoàn Công nghiệp - Viễn thông Quân đội (Viettel)</h5>
                        <hr class="w-100">
                        <label class="text-secondary fs-4"><b style="font-size: 40px;">320 </b>giao dịch</label>
                        <label class="text-secondary fs-4"><b style="font-size: 40px;">32 tỷ </b>chi phí</label>
                        <i class="far fa-handshake mt-3" style="font-size: 60px;"></i>
                        <h4>ĐỐI TÁC UY TÍN</h4>
                        <p class="text-secondary fs-4">5 năm hợp tác</p>
                    </div>
                </div>

                <div class="card top-provider border-color-2 mx-2 overflow-hidden" style="width: 400px;">
                    <div class="d-flex p-2 mt-3 flex-column align-items-center px-4">
                        <img src="/assets/images/evn.jpg" class="object-fit-contain border border-1 rounded-pill p-1" alt="" width="160px" height="160px">
                        <h5 class="mt-4 text-center">Tổng công ty điện lực Việt Nam</h5>
                        <hr class="w-100">
                        <label class="text-secondary fs-4"><b style="font-size: 40px;">320 </b>giao dịch</label>
                        <label class="text-secondary fs-4"><b style="font-size: 40px;">32 tỷ </b>chi phí</label>
                        <i class="far fa-handshake mt-3" style="font-size: 60px;"></i>
                        <h4>ĐỐI TÁC LÂU DÀI</h4>
                        <p class="text-secondary fs-4">15 năm hợp tác</p>
                    </div>
                </div>

                <div class="card top-provider border-color-2 mx-2 overflow-hidden" style="width: 400px;">
                    <div class="d-flex p-2 mt-3 flex-column align-items-center px-4">
                        <img src="/assets/images/fpt.jpg" class="object-fit-contain border border-1 rounded-pill p-1" alt="" width="160px" height="160px">
                        <h5 class="mt-4 text-center">Công ty Cổ phần FPT</h5>
                        <hr class="w-100">
                        <label class="text-secondary fs-4"><b style="font-size: 40px;">320 </b>giao dịch</label>
                        <label class="text-secondary fs-4"><b style="font-size: 40px;">32 tỷ </b>chi phí</label>
                        <i class="far fa-handshake mt-3" style="font-size: 60px;"></i>
                        <h4>ĐỐI TÁC TIỀM NĂNG</h4>
                        <p class="text-secondary fs-4">3 năm hợp tác</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- List Provider Logos -->
<section id="list-provider" class="pt-5">
    <h1 class="text-center fw-bolder">Đối tác cung cấp</h1>
    <div class="col-10 offset-1 col-lg-6 offset-lg-3 mt-5">
        <div class="row g-3 g-lg-5 list">
            <div class="col-3 col-lg-2 text-center">
                <img onclick="showProviderDetail('viettel')" src="/assets/images/1_viettel.png" alt="" width="100" height="100" class="provider-item object-fit-contain bg-white rounded-2 shadow-sm">
            </div>
            <div class="col-3 col-lg-2 text-center">
                <img onclick="showProviderDetail('vingroup')" src="/assets/images/vingroup.jpg" alt="" width="100" height="100" class="provider-item object-fit-contain bg-white rounded-2 shadow-sm">
            </div>
            <div class="col-3 col-lg-2 text-center">
                <img onclick="showProviderDetail('fpt')" src="/assets/images/fpt.jpg" alt="" width="100" height="100" class="provider-item object-fit-contain bg-white rounded-2 shadow-sm">
            </div>
            <div class="col-3 col-lg-2 text-center">
                <img onclick="showProviderDetail('vnpt')" src="/assets/images/vnpt.png" alt="" width="100" height="100" class="p-3 provider-item object-fit-contain bg-white rounded-2 shadow-sm">
            </div>
            <div class="col-3 col-lg-2 text-center">
                <img onclick="showProviderDetail('tgdd')" src="/assets/images/tgdd.jpg" alt="" width="100" height="100" class="provider-item object-fit-contain bg-white rounded-2 shadow-sm">
            </div>
            <div class="col-3 col-lg-2 text-center">
                <img onclick="showProviderDetail('evn')" src="/assets/images/evn.jpg" alt="" width="100" height="100" class="provider-item object-fit-contain bg-white rounded-2 shadow-sm">
            </div>
            <div class="col-3 col-lg-2 text-center">
                <img onclick="showProviderDetail('petrolimex')" src="/assets/images/petrolimex.png" alt="" width="100" height="100" class="p-2 provider-item object-fit-contain bg-white rounded-2 shadow-sm">
            </div>
            <div class="col-3 col-lg-2 text-center">
                <img onclick="showProviderDetail('vinacomin')" src="/assets/images/vinacomin.png" alt="" width="100" height="100" class="provider-item object-fit-contain bg-white rounded-2 shadow-sm">
            </div>
            <div class="col-3 col-lg-2 text-center">
                <img onclick="showProviderDetail('saokim')" src="/assets/images/saokim.webp" alt="" width="100" height="100" class="provider-item object-fit-contain bg-white rounded-2 shadow-sm">
            </div>
            <div class="col-3 col-lg-2 text-center">
                <img onclick="showProviderDetail('hawaco')" src="/assets/images/hawaco.jpg" alt="" width="100" height="100" class="provider-item object-fit-contain bg-white rounded-2 shadow-sm">
            </div>
            <div class="col-3 col-lg-2 text-center">
                <img onclick="showProviderDetail('ssi')" src="/assets/images/ssi.jpg" alt="" width="100" height="100" class="provider-item object-fit-contain bg-white rounded-2 shadow-sm">
            </div>
            <div class="col-3 col-lg-2 text-center">
                <img onclick="showProviderDetail('vndirect')" src="/assets/images/vndirect.webp" alt="" width="100" height="100" class="p-3 provider-item object-fit-contain bg-white rounded-2 shadow-sm">
            </div>
        </div>
    </div>
    <div class="d-flex justify-content-center mt-4">
        <a href="/provider/provider.html" class="btn btn-outline-success">Xem thêm <i class="fas fa-arrow-right"></i></a>
    </div>
    <!-- Detail -->
    <div id="provider-detail" class="d-none position-fixed top-50 translate-middle-y start-0 w-100 bg-dark bg-opacity-75 py-5">
        <i onclick="closeProviderDetail()" class="close-btn fa-solid fa-xmark position-absolute top-0 end-0 m-2 text-white cursor-hover fs-1"></i>
        <div class="col-6 offset-3">
            <h3 class="fw-bolder text-light text-center name mb-3">Tập đoàn Công nghiệp - Viễn thông Quân đội (Viettel)</h3>
            <p class="text-center text-light desc">Viettel là tập đoàn viễn thông và công nghệ lớn nhất Việt Nam, thành lập năm 1989, trụ sở tại Hà Nội, thuộc Bộ Quốc phòng. Công ty cung cấp dịch vụ viễn thông, CNTT, chuyển đổi số, và hoạt động tại 11 quốc gia, phục vụ hơn 270 triệu khách hàng. Viettel có giá trị thương hiệu viễn thông cao nhất Đông Nam Á (8.9 tỷ USD).</p>
        </div>
    </div>
</section>


<script>
    let ranProviders = [];
    $(document).ready(() => {
        $.ajax({
            url: '/manage/overview/get_max_item_providers',
            method: 'GET',
            contentType: 'json',
            success: res => {
                $('#top-provider .list').empty();
                
                res.data.forEach(e => {
                    $('#top-provider .list').append(`
                        <div class="card top-provider border-color-2 mx-2 overflow-hidden" style="width: 400px;">
                            <div class="d-flex p-2 mt-3 flex-column align-items-center px-4">
                                <img src="${e.logo_url}" class="object-fit-contain border border-1 rounded-pill p-1" alt="" width="160px" height="160px">
                                <h5 class="mt-4 text-center">${e.provider_name}</h5>
                                <hr class="w-100">
                                <label class="text-secondary fs-4"><b style="font-size: 40px;">${e.transaction_count} </b>giao dịch</label>
                                <label class="text-secondary fs-4"><b style="font-size: 40px;">${parseInt(e.total_cost/1000)} triệu </b></label>
                                <i class="far fa-handshake mt-3" style="font-size: 60px;"></i>
                                <h4>ĐỐI TÁC UY TÍN</h4>
                                <p class="text-secondary fs-4">${e.total_collaboration_days} ngày hợp tác</p>
                            </div>
                        </div>
                    `);
                });
            },
            error: res => {
                console.log(res.responseJSON.message);
            },
            complete: () => hideLoading()
        });

        $.ajax({
            url: '/manage/overview/get_random_10_provider',
            method: 'GET',
            contentType: 'json',
            success: res => {
                $('#list-provider .list').empty();
                ranProviders = res.data;
                res.data.forEach(e => {
                    $('#list-provider .list').append(`
                        <div class="col-3 col-lg-2 text-center">
                            <img onclick="showProviderDetail(${e.provider_id})" src="${e.logo_url}" alt="" width="100" height="100" class="provider-item object-fit-contain bg-white rounded-2 shadow-sm">
                        </div>
                    `);
                });
            },
            error: res => {
                console.log(res.responseJSON.message);
            },
            complete: () => hideLoading()
        });
    });
</script>